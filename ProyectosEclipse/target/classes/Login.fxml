<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.image.Image?>

<BorderPane fx:controller="com.adb.fx.controller.LoginController"
            xmlns:fx="http://javafx.com/fxml" 
            prefWidth="1000" 
            prefHeight="800"
            stylesheets="@styles.css" 
            styleClass="root-container">

    <!-- Navbar simple -->
    <top>
        <HBox styleClass="navbar" alignment="CENTER_LEFT" spacing="30">
            <padding>
                <Insets top="15" right="40" bottom="15" left="40"/>
            </padding>

            <!-- Logo -->
            <HBox spacing="12" alignment="CENTER_LEFT">
                <ImageView fitHeight="40" fitWidth="40" preserveRatio="true">
                    <image>
                        <Image url="@images/icon-logo.png"/>
                    </image>
                </ImageView>
                <Label text="Nexus Deportivo" styleClass="logo-text"/>
            </HBox>

            <Region HBox.hgrow="ALWAYS"/>

            <!-- BotÃ³n volver -->
            <Button text="â† Volver" styleClass="nav-button" onAction="#volverInicio"/>
        </HBox>
    </top>

    <!-- Contenido principal -->
    <center>
        <HBox alignment="CENTER" styleClass="login-main-container">
            
            <!-- Panel izquierdo - Imagen/Banner -->
            <VBox styleClass="login-left-panel" prefWidth="450" alignment="CENTER" spacing="30">
                <padding>
                    <Insets top="50" right="50" bottom="50" left="50"/>
                </padding>
                
                <VBox alignment="CENTER" spacing="20">
                    <Label text="ðŸ†" styleClass="login-emoji-icon"/>
                    <Label text="Bienvenido a" styleClass="login-welcome-text"/>
                    <Label text="Nexus Deportivo" styleClass="login-brand-text"/>
                    <Label text="Tu plataforma para gestionar torneos y eventos deportivos" 
                           styleClass="login-description-text" wrapText="true" textAlignment="CENTER"/>
                </VBox>
                
                <VBox alignment="CENTER" spacing="15">
                    <HBox spacing="10" alignment="CENTER">
                        <Label text="âœ“" styleClass="login-feature-check"/>
                        <Label text="GestiÃ³n de torneos" styleClass="login-feature-text"/>
                    </HBox>
                    <HBox spacing="10" alignment="CENTER">
                        <Label text="âœ“" styleClass="login-feature-check"/>
                        <Label text="Seguimiento de equipos" styleClass="login-feature-text"/>
                    </HBox>
                    <HBox spacing="10" alignment="CENTER">
                        <Label text="âœ“" styleClass="login-feature-check"/>
                        <Label text="Resultados en tiempo real" styleClass="login-feature-text"/>
                    </HBox>
                </VBox>
            </VBox>

            <!-- Panel derecho - Formularios -->
            <VBox styleClass="login-right-panel" prefWidth="550" alignment="TOP_CENTER" spacing="0">
                <padding>
                    <Insets top="50" right="60" bottom="50" left="60"/>
                </padding>

                <!-- Tabs para cambiar entre Login y Registro -->
                <HBox spacing="30" alignment="CENTER" styleClass="login-tabs-container">
                    <Button fx:id="btnTabLogin" text="Iniciar SesiÃ³n" 
                            styleClass="login-tab-button-active" 
                            onAction="#mostrarLogin"/>
                    <Button fx:id="btnTabRegistro" text="Crear Cuenta" 
                            styleClass="login-tab-button" 
                            onAction="#mostrarRegistro"/>
                </HBox>

                <!-- Separador -->
                <Region prefHeight="30"/>

                <!-- StackPane para cambiar entre formularios -->
                <StackPane fx:id="formContainer">
                    
                    <!-- FORMULARIO DE LOGIN -->
                    <VBox fx:id="loginForm" spacing="25" alignment="TOP_CENTER" visible="true">
                        
                        <VBox spacing="15" alignment="CENTER_LEFT">
                            <Label text="Iniciar SesiÃ³n" styleClass="login-form-title"/>
                            <Label text="Ingresa tus credenciales para acceder" 
                                   styleClass="login-form-subtitle"/>
                        </VBox>

                        <!-- Campo Usuario/Email -->
                        <VBox spacing="8" styleClass="login-input-group">
                            <Label text="Usuario o Email" styleClass="login-input-label"/>
                            <TextField fx:id="txtLoginUsuario" 
                                      promptText="Ingresa tu usuario o email"
                                      styleClass="login-input-field"/>
                        </VBox>

                        <!-- Campo ContraseÃ±a -->
                        <VBox spacing="8" styleClass="login-input-group">
                            <HBox alignment="CENTER_LEFT">
                                <Label text="ContraseÃ±a" styleClass="login-input-label"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Hyperlink text="Â¿Olvidaste tu contraseÃ±a?" 
                                          styleClass="login-link-small"
                                          onAction="#recuperarContrasena"/>
                            </HBox>
                            <PasswordField fx:id="txtLoginPassword" 
                                          promptText="Ingresa tu contraseÃ±a"
                                          styleClass="login-input-field"/>
                        </VBox>

                        <!-- Recordarme -->
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <CheckBox fx:id="chkRecordarme" text="Recordarme" 
                                     styleClass="login-checkbox"/>
                        </HBox>

                        <!-- BotÃ³n Login -->
                        <Button text="Iniciar SesiÃ³n" 
                               styleClass="login-submit-button"
                               prefWidth="400"
                               onAction="#iniciarSesion"/>

                        <!-- Divisor -->
                        <HBox alignment="CENTER" spacing="10" styleClass="login-divider">
                            <Separator HBox.hgrow="ALWAYS"/>
                            <Label text="o" styleClass="login-divider-text"/>
                            <Separator HBox.hgrow="ALWAYS"/>
                        </HBox>

                        <!-- Botones sociales (opcional) -->
                        <VBox spacing="10" alignment="CENTER">
                            <Button text="Soy Administrador" 
                                   styleClass="login-social-button"
                                   prefWidth="400"
                                   onAction="#irALoginAdmin"/>
                                   
                        </VBox>

                    </VBox>

                    <!-- FORMULARIO DE REGISTRO CON SCROLL -->
                    <ScrollPane fx:id="registroFormScroll" visible="false" fitToWidth="true" 
                                prefHeight="500"
                                style="-fx-background: transparent; -fx-background-color: transparent;">
                        <VBox fx:id="registroForm" spacing="18" alignment="TOP_CENTER">                        
                            
                            <VBox spacing="15" alignment="CENTER_LEFT">
                                <Label text="Crear Cuenta" styleClass="login-form-title"/>
                                <Label text="Completa tus datos para registrarte" 
                                       styleClass="login-form-subtitle"/>
                            </VBox>

                            <!-- Nombre completo -->
                            <VBox spacing="8" styleClass="login-input-group">
                                <Label text="Nombre Completo *" styleClass="login-input-label"/>
                                <TextField fx:id="txtRegistroNombre" 
                                          promptText="Ej: Juan PÃ©rez"
                                          styleClass="login-input-field"/>
                            </VBox>

                            <!-- Email -->
                            <VBox spacing="8" styleClass="login-input-group">
                                <Label text="Email *" styleClass="login-input-label"/>
                                <TextField fx:id="txtRegistroEmail" 
                                          promptText="tu@email.com"
                                          styleClass="login-input-field"/>
                            </VBox>

                            <!-- Usuario -->
                            <VBox spacing="8" styleClass="login-input-group">
                                <Label text="Nombre de Usuario *" styleClass="login-input-label"/>
                                <TextField fx:id="txtRegistroUsuario" 
                                          promptText="Ej: juanperez"
                                          styleClass="login-input-field"/>
                            </VBox>

                            <!-- ContraseÃ±a -->
                            <VBox spacing="8" styleClass="login-input-group">
                                <Label text="ContraseÃ±a *" styleClass="login-input-label"/>
                                <PasswordField fx:id="txtRegistroPassword" 
                                              promptText="MÃ­nimo 8 caracteres"
                                              styleClass="login-input-field"/>
                            </VBox>

                            <!-- Confirmar ContraseÃ±a -->
                            <VBox spacing="8" styleClass="login-input-group">
                                <Label text="Confirmar ContraseÃ±a *" styleClass="login-input-label"/>
                                <PasswordField fx:id="txtRegistroConfirmPassword" 
                                              promptText="Repite tu contraseÃ±a"
                                              styleClass="login-input-field"/>
                            </VBox>

                            <!-- TÃ©rminos y condiciones -->
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <CheckBox fx:id="chkTerminos" styleClass="login-checkbox"/>
                                <Label text="Acepto los " styleClass="login-terms-text"/>
                                <Hyperlink text="tÃ©rminos y condiciones" 
                                          styleClass="login-link-small"
                                          onAction="#verTerminos"/>
                            </HBox>

                            <!-- BotÃ³n Registro -->
                            <Button text="Crear Cuenta" 
                                   styleClass="login-submit-button"
                                   prefWidth="400"
                                   onAction="#crearCuenta"/>

                        </VBox>
                    </ScrollPane>

                </StackPane>

            </VBox>

        </HBox>
    </center>

</BorderPane>